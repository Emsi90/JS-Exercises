var carusel = document.getElementsByClassName('carusel');


[].forEach.call(carusel, function(c) {
   
    var prev = c.querySelector('.carusel__prev');
    var next = c.querySelector('.carusel__next');
    var bubbles = c.querySelector('.carusel__bubbles');
    var testimonials = c.querySelector('.carusel__testimonials');
    var testimonial = c.getElementsByClassName('carusel__testimonial');
    console.log(testimonial.length);
    
    var currentImageIndex = 0;
    var width = 600;
    
    function switchImg() {
        
        testimonials.style.left = -width * currentImageIndex + 'px';
        
    }
    
    prev.addEventListener('click', function() {
        
        currentImageIndex--;
        
        if(currentImageIndex < 0) {
            
            currentImageIndex = testimonial.length - 1;
            
        }
        console.log(testimonial.length);
        switchImg();
        
    }, false);
    
    next.addEventListener('click', function() {
        
        currentImageIndex++;
        
        if(currentImageIndex >= testimonial.length) {
            
            currentImageIndex = 0;
            
        }
        
        switchImg();
        
    }, false);
    
    
});